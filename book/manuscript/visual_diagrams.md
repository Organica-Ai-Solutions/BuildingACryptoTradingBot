# Visual Diagrams

## System Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                      Crypto Trading Bot                          │
└───────────────────────────────┬─────────────────────────────────┘
                                │
┌───────────────────────────────┼─────────────────────────────────┐
│  ┌─────────────┐   ┌──────────▼───────────┐   ┌───────────────┐ │
│  │             │   │                      │   │               │ │
│  │  Data       │   │  Trading Engine      │   │  Dashboard    │ │
│  │  Collection ├──►│                      ├──►│  Frontend     │ │
│  │             │   │                      │   │               │ │
│  └─────────────┘   └──────────┬───────────┘   └───────────────┘ │
│                               │                                  │
│  ┌─────────────┐   ┌──────────▼───────────┐   ┌───────────────┐ │
│  │             │   │                      │   │               │ │
│  │  Strategy   │◄──┤  Risk Management     │◄──┤  API          │ │
│  │  Engine     ├──►│                      ├──►│  Interface    │ │
│  │             │   │                      │   │               │ │
│  └─────────────┘   └──────────────────────┘   └───────┬───────┘ │
│                                                        │         │
└────────────────────────────────────────────────────────┼─────────┘
                                                         │
                                                   ┌─────▼─────┐
                                                   │           │
                                                   │  Alpaca   │
                                                   │  API      │
                                                   │           │
                                                   └───────────┘
```

## Data Flow Diagram

```
┌───────────┐     ┌───────────┐     ┌───────────┐     ┌───────────┐
│           │     │           │     │           │     │           │
│  Market   │────►│ Data      │────►│ Strategy  │────►│ Order     │
│  Data     │     │ Processor │     │ Engine    │     │ Manager   │
│           │     │           │     │           │     │           │
└───────────┘     └───────────┘     └───────────┘     └───────────┘
                                         │                  │
                                         │                  │
                                    ┌────▼──────┐     ┌─────▼─────┐
                                    │           │     │           │
                                    │ Position  │◄────┤ Risk      │
                                    │ Manager   │     │ Manager   │
                                    │           │     │           │
                                    └───────────┘     └───────────┘
```

## Strategy Implementation Flow

```
┌───────────────────────────────────────────────────────────────────┐
│  Strategy Implementation Process                                   │
└───────────────────────────────────────────────────────────────────┘
   │
   ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│             │     │             │     │             │
│  Define     │────►│  Implement  │────►│  Backtest   │
│  Parameters │     │  Logic      │     │  Strategy   │
│             │     │             │     │             │
└─────────────┘     └─────────────┘     └──────┬──────┘
                                               │
                                               ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│             │     │             │     │             │
│  Deploy     │◄────┤  Optimize   │◄────┤  Analyze    │
│  Strategy   │     │  Parameters │     │  Results    │
│             │     │             │     │             │
└─────────────┘     └─────────────┘     └─────────────┘
```

## Supertrend Strategy Logic

```
┌──────────────────────┐
│ Market Data Input    │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Calculate ATR        │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Calculate Upper Band │
│ = (High+Low)/2 +     │
│   Multiplier * ATR   │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Calculate Lower Band │
│ = (High+Low)/2 -     │
│   Multiplier * ATR   │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Determine Trend      │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Generate Buy/Sell    │
│ Signals on Trend     │
│ Change               │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Apply Risk           │
│ Management Rules     │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│ Execute Trade        │
└──────────────────────┘
```

## Trading Lifecycle

```
┌─────────────┐
│ Market Data │
└──────┬──────┘
       │
       ▼
┌──────────────────┐  No   ┌─────────────┐
│ Signal Generated?│─────► │ Continue    │
└───────┬──────────┘       │ Monitoring  │
        │ Yes             └─────────────┘
        ▼
┌──────────────────┐  No   ┌─────────────┐
│ Passes Risk      │─────► │ Log &       │
│ Checks?          │       │ Discard     │
└───────┬──────────┘       └─────────────┘
        │ Yes
        ▼
┌──────────────────┐
│ Calculate        │
│ Position Size    │
└───────┬──────────┘
        │
        ▼
┌──────────────────┐
│ Submit Order     │
└───────┬──────────┘
        │
        ▼
┌──────────────────┐  No   ┌─────────────┐
│ Order Filled?    │─────► │ Handle      │
└───────┬──────────┘       │ Rejection   │
        │ Yes             └─────────────┘
        ▼
┌──────────────────┐
│ Set Stop Loss    │
│ & Take Profit    │
└───────┬──────────┘
        │
        ▼
┌──────────────────┐
│ Monitor Position │◄─────┐
└───────┬──────────┘      │
        │                 │ No
        ▼                 │
┌──────────────────┐  No  │
│ Exit Condition   │──────┘
│ Met?             │
└───────┬──────────┘
        │ Yes
        ▼
┌──────────────────┐
│ Close Position   │
└───────┬──────────┘
        │
        ▼
┌──────────────────┐
│ Update Portfolio │
│ & Performance    │
│ Metrics          │
└──────────────────┘
```

## Multi-Strategy Architecture

```
                  ┌──────────────────────────────────────┐
                  │           Strategy Manager           │
                  └───┬──────────────────┬──────────┬────┘
                      │                  │          │
                      ▼                  ▼          ▼
┌─────────────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│ Supertrend Strategy     │  │ MACD Strategy   │  │ Custom Strategy │
└─────────────┬───────────┘  └────────┬────────┘  └────────┬────────┘
              │                       │                    │
              ▼                       ▼                    ▼
┌─────────────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│ Signal Generator        │  │ Signal Generator│  │ Signal Generator│
└─────────────┬───────────┘  └────────┬────────┘  └────────┬────────┘
              │                       │                    │
              └───────────────┬───────┴────────────────────┘
                              │
                              ▼
                    ┌───────────────────────┐
                    │  Signal Aggregator    │
                    └───────────┬───────────┘
                                │
                                ▼
                    ┌───────────────────────┐
                    │  Risk Management      │
                    └───────────┬───────────┘
                                │
                                ▼
                    ┌───────────────────────┐
                    │  Order Execution      │
                    └───────────────────────┘
```

## Deployment Architecture

```
┌────────────────────────────────────────────────────────────────────┐
│                                                                    │
│                            Kubernetes Cluster                      │
│                                                                    │
│  ┌───────────────┐   ┌───────────────┐   ┌───────────────┐        │
│  │               │   │               │   │               │        │
│  │ Data          │   │ Trading       │   │ API           │        │
│  │ Service       │   │ Service       │   │ Service       │        │
│  │               │   │               │   │               │        │
│  │ Pod 1..n      │   │ Pod 1..n      │   │ Pod 1..n      │        │
│  └───────────────┘   └───────────────┘   └───────────────┘        │
│                                                                    │
│  ┌───────────────┐   ┌───────────────┐   ┌───────────────┐        │
│  │               │   │               │   │               │        │
│  │ Dashboard     │   │ Monitoring    │   │ Database      │        │
│  │ Service       │   │ Service       │   │ Service       │        │
│  │               │   │               │   │               │        │
│  │ Pod 1..n      │   │ Pod 1..n      │   │ StatefulSet   │        │
│  └───────────────┘   └───────────────┘   └───────────────┘        │
│                                                                    │
└──────────────────────────────┬─────────────────────────────────────┘
                               │
                               ▼
┌────────────────────────────────────────────────────────────────────┐
│                                                                    │
│                         External Services                          │
│                                                                    │
│  ┌───────────────┐   ┌───────────────┐   ┌───────────────┐        │
│  │               │   │               │   │               │        │
│  │ Alpaca API    │   │ Data Vendors  │   │ Cloud Storage │        │
│  │               │   │               │   │               │        │
│  └───────────────┘   └───────────────┘   └───────────────┘        │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
```

## Risk Management Flow

```
┌──────────────────────────────────────────────────────────────────┐
│                      Risk Management System                       │
└────────────────────────────────┬─────────────────────────────────┘
                                 │
                                 ▼
┌───────────────────┐      ┌────────────────┐      ┌───────────────┐
│                   │      │                │      │               │
│ Account-Level     │◄────►│ Position-Level │◄────►│ Order-Level   │
│ Risk Controls     │      │ Risk Controls  │      │ Risk Controls │
│                   │      │                │      │               │
└─────────┬─────────┘      └────────────────┘      └───────────────┘
          │
          ▼
┌────────────────────────┐
│                        │
│ Max Portfolio Exposure │
│ Max Drawdown Limit     │
│ Correlation Control    │
│                        │
└────────────────────────┘
```

## Performance Dashboard Layout

```
┌────────────────────────────────────────────────────────────────────┐
│ Trading Bot Dashboard                                   User: Admin │
└────────────────────────────────────────────────────────────────────┘
┌─────────────────────────┐  ┌─────────────────────────────────────┐
│                         │  │                                     │
│     Account Summary     │  │         Performance Metrics         │
│                         │  │                                     │
│  Balance: $10,245.67    │  │  Daily P&L: +$245.30 (+2.4%)       │
│  Buying Power: $8,432.10│  │  Monthly P&L: +$1,245.30 (+12.4%)   │
│  # Positions: 3         │  │  Sharpe Ratio: 1.35                │
│  Risk Usage: 45%        │  │  Win Rate: 62%                     │
│                         │  │                                     │
└─────────────────────────┘  └─────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│                         Performance Chart                           │
│                                                                     │
│                                                                     │
│                                                                     │
│                                                                     │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
┌─────────────────────────┐  ┌─────────────────────────────────────┐
│                         │  │                                     │
│   Active Positions      │  │          Recent Trades              │
│                         │  │                                     │
│  BTC/USD: +3.2%         │  │  ETH/USD: Sold @ $1,895.30         │
│  ETH/USD: -1.5%         │  │  Profit: +$120.50                  │
│  SOL/USD: +5.4%         │  │  Time: 2023-06-15 14:22:35         │
│                         │  │                                     │
│                         │  │  BTC/USD: Bought @ $28,450.25      │
│                         │  │  Size: 0.15 BTC                    │
│                         │  │  Time: 2023-06-15 10:15:03         │
│                         │  │                                     │
└─────────────────────────┘  └─────────────────────────────────────┘
┌─────────────────────────┐  ┌─────────────────────────────────────┐
│                         │  │                                     │
│   Strategy Performance  │  │         System Metrics              │
│                         │  │                                     │
│  Supertrend: +8.3%      │  │  CPU Usage: 32%                    │
│  MACD: +2.1%            │  │  Memory: 1.2GB                     │
│  Custom: +4.5%          │  │  API Latency: 120ms                │
│  Combined: +5.6%        │  │  Last Update: 15:30:05             │
│                         │  │                                     │
└─────────────────────────┘  └─────────────────────────────────────┘
``` 